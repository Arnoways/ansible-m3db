---
# defaults file for m3db

# general
## sources
m3db_version: 1.1.0
m3db_github_release: https://github.com/m3db/m3/releases/download
m3db_binaries_folder_name: "m3_{{m3db_version}}_linux_amd64"
m3db_download_url: "{{m3db_github_release}}/v{{m3db_version}}/{{m3db_binaries_folder_name}}.tar.gz"

## system
m3db_binaries: "/usr/local/bin/m3db-{{m3db_version}}/"
m3db_system_group: m3db
m3db_system_user: m3db
m3db_config_folder: /etc/m3db

## sysctl
## https://m3db.io/docs/operational_guide/kernel_configuration/
custom_sysctl:
  - {name: vm.max_map_count, value: 3000000}
  - {name: vm.swappiness, value: 1}
  - {name: fs.file-max, value: 3000000}
  - {name: fs.nr_open, value: 3000000}


# coordinator
m3coordinator_config_file: /etc/m3db/m3coordinator.yml

m3coordinator_global:
  listenAddress: "0.0.0.0"
  backend: m3db
  lookbackDuration: "5m"
# m3coordinator_topology_port: 7201
# m3coordinator_scraping_port: 7203


# node
m3dbnode_config_file: /etc/m3db/m3dbnode.yml
m3db_global:
  listenAddress: "0.0.0.0:9000"
  clusterListenAddress: "0.0.0.0:9001"
  httpNodeListenAddress: "0.0.0.0:9002"
  httpClusterListenAddress: "0.0.0.0:9003"
  debugListenAddress: "0.0.0.0:9004"

